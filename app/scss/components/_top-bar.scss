$topbar-height: 48px;
$topbar-bg: $primary-color !default;
$topbar-bg-gradient: linear-gradient(top, $topbar-bg ($topbar-height - 3), darken($topbar-bg, 2.3%) ($topbar-height - 3)) !default;
$topbar-dropdown-bg: $topbar-bg !default;
$topbar-title-weight: normal !default;
$topbar-title-font-size: emCalc(16px) !default;
$topbar-pagetitle-font-size: emCalc(20px) !default;
$topbar-link-color: #fff !default;
$topbar-link-weight: normal !default;
$topbar-menu-link-weight: normal !default;
$topbar-breakpoint: emCalc(1px);

@import "foundation/components/top-bar";
@import "compass/layout/stretching";

#header {
	@include stretch-x;
	top: 0;
	z-index: 3;
	height: $topbar-height;
	line-height: $topbar-height;

	#title {
		font-size: $topbar-pagetitle-font-size;
	}
}

#header.contain-to-grid {
	@include background($topbar-bg-gradient);
}

.top-bar {
	@include background($topbar-bg-gradient);
	@include box-shadow(inset 0 1px rgba(#fff, 0.106));

	img {
		width: 32px;
		display: inline;
		margin-top: 8px;
	}
	ul {
		line-height: $topbar-height;
		color: $topbar-link-color;
	}

	.title-area {
		padding: 0 8px;
		margin-right: 5px;
		@include transition(all 0.2s);
		-webkit-tap-highlight-color: darken($primary-color, 25%);
	}

	.name {
		float: left;
		color: $topbar-link-color;

		.icon {
			margin-left: -8px;
		}
	}

	.icon {
		font-size: 120%;
	}
	.dropdown li {
		min-width: 170px;

		a {
			line-height: $topbar-height;
			padding: 0 16px;
			height: $topbar-height;
			border-top: 1px solid lighten($topbar-dropdown-bg, 10%);
		}
	}

	.has-dropdown > a:after {
		border-style: solid;
		border-width: 0 0 10px 10px;
		border-color: transparent transparent rgba(#fff, 0.5) transparent;
		margin-top: emCalc(10px);
	}
	.right {
		.has-dropdown > a {
			padding-right: 16px !important;

			.dropdown {
				right: emCalc(10px);
			}
		}
		.has-dropdown > a:after {
			border-width: 0;
		}
	}
}

.top-bar-section {
	& > ul {
		background: none;
	}
	ul:not(.dropdown) > li > a:not(.button) {
		background: none;
	}
	.has-dropdown {
		-webkit-tap-highlight-color: rgba(#fff, 0.31) !important;
	}
}

a.menu-icon {
	//text-indent: -$topbar-height;
	height: $topbar-height;
	width: $topbar-height !important;
	text-align: center;
	padding: 0;
	color: #fff;

	span {
		font-size: emCalc(32px) !important;
	}
}
